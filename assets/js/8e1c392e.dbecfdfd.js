(self.webpackChunkbee_docs=self.webpackChunkbee_docs||[]).push([[686],{3905:function(e,t,n){"use strict";n.d(t,{Zo:function(){return u},kt:function(){return d}});var o=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},a=Object.keys(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var l=o.createContext({}),c=function(e){var t=o.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},u=function(e){var t=c(e.components);return o.createElement(l.Provider,{value:t},e.children)},h={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},p=o.forwardRef((function(e,t){var n=e.components,r=e.mdxType,a=e.originalType,l=e.parentName,u=s(e,["components","mdxType","originalType","parentName"]),p=c(n),d=r,m=p["".concat(l,".").concat(d)]||p[d]||h[d]||a;return n?o.createElement(m,i(i({ref:t},u),{},{components:n})):o.createElement(m,i({ref:t},u))}));function d(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var a=n.length,i=new Array(a);i[0]=p;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s.mdxType="string"==typeof e?e:r,i[1]=s;for(var c=2;c<a;c++)i[c]=n[c];return o.createElement.apply(null,i)}return o.createElement.apply(null,n)}p.displayName="MDXCreateElement"},9733:function(e,t,n){"use strict";n.r(t),n.d(t,{frontMatter:function(){return s},metadata:function(){return l},toc:function(){return c},default:function(){return h}});var o=n(2122),r=n(9756),a=(n(7294),n(3905)),i=["components"],s={title:"Staking",id:"staking"},l={unversionedId:"installation/staking",id:"installation/staking",isDocsHomePage:!1,title:"Staking",description:"In order to participate in the redistribution of BZZ from uploaders to storers, storers must first deposit a non-refundable BZZ stake with a smart contract. Then, they are going to be chosen for payout with a probability proportional to their stake in their neighbourhood, as long as they can log storing the part of the content that they are supposed to be storing according to protocol rules.",source:"@site/docs/installation/staking.md",sourceDirName:"installation",slug:"/installation/staking",permalink:"/docs/installation/staking",editUrl:"https://github.com/ethersphere/docs.github.io/blob/master/docs/installation/staking.md",version:"current",frontMatter:{title:"Staking",id:"staking"}},c=[{value:"Stake your node with Bee",id:"stake-your-node-with-bee",children:[]}],u={toc:c};function h(e){var t=e.components,n=(0,r.Z)(e,i);return(0,a.kt)("wrapper",(0,o.Z)({},u,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("p",null,"In order to participate in the redistribution of BZZ from uploaders to storers, storers must first deposit a non-refundable BZZ stake with a smart contract. Then, they are going to be chosen for payout with a probability proportional to their stake in their neighbourhood, as long as they can log storing the part of the content that they are supposed to be storing according to protocol rules."),(0,a.kt)("p",null,"In order to participate in redistribution, storers need to do the following:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Join the network and download all the data that the protocol assigns to them. They can only participate if they are fully synchronised with the network."),(0,a.kt)("li",{parentName:"ul"},"Deposit a stake with the staking contract. There is a minimum staking requirement, presently 10 BZZ. It can change in the future."),(0,a.kt)("li",{parentName:"ul"},"Stay online and fully synced, so that when a redistribution round comes, their node can check whether their neighbourhood (nodes that are assigned the same content to store) has been selected and if so, they can perform a certain calculation (a random sampling) on their content and submit the result to the redistribution contract. This happens in two phases (commit and reveal), so that the nodes cannot know the results of others\u2019 calculations when committing to their own."),(0,a.kt)("li",{parentName:"ul"},"Round length is estimated around 15 minutes (152 blocks to be precise), though it can be extended.")),(0,a.kt)("p",null,"Amongst the nodes that agree with the correct result, one is chosen \u2014 with a probability in proportion to their stake \u2014 as the winner. The winner must execute an on-chain transaction claiming their reward, which is the entire pot of storage rent paid since the previous round, or even more, if the previous pot has not been claimed at that time."),(0,a.kt)("h2",{id:"stake-your-node-with-bee"},"Stake your node with Bee"),(0,a.kt)("p",null,"Bee has builtin endpoints for depositing the stake. Currently the minimum staking requirement is 10 BZZ, so make sure that there is enough tokens in the node's wallet and you must have some native token as well for paying the gas."),(0,a.kt)("p",null,"Then you can run the following command to stake 10 BZZ. The amount is given in PLURs which is the smallest denomination of BZZ and ",(0,a.kt)("inlineCode",{parentName:"p"},"1 BZZ == 1e16 PLUR"),"."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"curl -XPOST localhost:1635/stake/100000000000000000\n")),(0,a.kt)("p",null,"If the command executed successfully it returns a transaction hash that you can use to verify on a block explorer."),(0,a.kt)("p",null,"It is possible to deposit more by repeatedly using the command above."),(0,a.kt)("p",null,"You can also check the amount staked with the following command:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"curl localhost:1635/stake/\n")))}h.isMDXComponent=!0}}]);