"use strict";(self.webpackChunkbee_docs=self.webpackChunkbee_docs||[]).push([[3060],{36396:(e,n,o)=>{o.r(n),o.d(n,{assets:()=>i,contentTitle:()=>d,default:()=>h,frontMatter:()=>r,metadata:()=>l,toc:()=>c});var t=o(17624),s=o(4552);const r={title:"Useful Developer Info",id:"useful-dev-info"},d="Testing a connection with PingPong protocol",l={id:"develop/bee-developers/useful-dev-info",title:"Useful Developer Info",description:"Welcome to the Dev area! We love PR's! \ud83d\udc1d",source:"@site/docs/develop/bee-developers/useful-dev-info.md",sourceDirName:"develop/bee-developers",slug:"/develop/bee-developers/useful-dev-info",permalink:"/docs/develop/bee-developers/useful-dev-info",draft:!1,unlisted:!1,editUrl:"https://github.com/ethersphere/docs.github.io/blob/master/docs/develop/bee-developers/useful-dev-info.md",tags:[],version:"current",frontMatter:{title:"Useful Developer Info",id:"useful-dev-info"},sidebar:"develop",previous:{title:"PSS Messaging",permalink:"/docs/develop/dapps-on-swarm/pss"},next:{title:"Developer mode",permalink:"/docs/develop/bee-developers/bee-dev-mode"}},i={},c=[];function a(e){const n={a:"a",code:"code",h1:"h1",li:"li",p:"p",pre:"pre",ul:"ul",...(0,s.M)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.p,{children:"Welcome to the Dev area! We love PR's! \ud83d\udc1d"}),"\n",(0,t.jsxs)(n.p,{children:["We would would love you to get involved with our ",(0,t.jsx)(n.a,{href:"https://github.com/ethersphere/bee",children:"Github repo"}),"."]}),"\n",(0,t.jsxs)(n.p,{children:["All the action can be found on our ",(0,t.jsx)(n.a,{href:"https://discord.gg/wdghaQsGq5",children:"Discord Server"}),". Sign up and get involved with our buzzing hive of daily dev chat."]}),"\n",(0,t.jsxs)(n.p,{children:["If you would like to contribute, please read the ",(0,t.jsx)(n.a,{href:"https://github.com/ethersphere/bee/blob/master/CODING.md",children:"coding guidelines"})," before you get started."]}),"\n",(0,t.jsxs)(n.p,{children:["Installation from source is described in the ",(0,t.jsx)(n.a,{href:"/docs/bee/installation/build-from-source",children:"Installation"}),"."]}),"\n",(0,t.jsx)(n.h1,{id:"testing-a-connection-with-pingpong-protocol",children:"Testing a connection with PingPong protocol"}),"\n",(0,t.jsx)(n.p,{children:"To check if two nodes are connected and to see the round trip time for message exchange between them, get the overlay address from one node, for example local node 2:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"curl localhost:1835/addresses\n"})}),"\n",(0,t.jsx)(n.p,{children:"Make sure that Debug API is enabled and addresses configured as in examples above."}),"\n",(0,t.jsx)(n.p,{children:"And use that address in the Debug API call on another node, for example, local node 1:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"curl -XPOST localhost:1735/pingpong/d4440baf2d79e481c3c6fd93a2014d2e6fe0386418829439f26d13a8253d04f1\n"})}),"\n",(0,t.jsx)(n.h1,{id:"generating-protobuf",children:"Generating protobuf"}),"\n",(0,t.jsx)(n.p,{children:"To process protocol buffer files and generate the Go code from it two tools are needed:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://github.com/protocolbuffers/protobuf/releases",children:"protoc"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://github.com/gogo/protobuf",children:"protoc-gen-gogofaster"})}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["Makefile rule ",(0,t.jsx)(n.code,{children:"protobuf"})," can be used to automate ",(0,t.jsx)(n.code,{children:"protoc-gen-gogofaster"})," installation and code generation:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"make protobuf\n"})}),"\n",(0,t.jsx)(n.h1,{id:"tracing",children:"Tracing"}),"\n",(0,t.jsxs)(n.p,{children:["Developers can gain an additional level of insight into the node by enabling ",(0,t.jsx)(n.code,{children:"tracing"}),". To make use of Tracing, we advice to make use of ",(0,t.jsx)(n.a,{href:"https://www.jaegertracing.io/",children:"jaeger"}),"."]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Set up tracing by:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Start jaeger:\n",(0,t.jsx)(n.code,{children:"docker run -p 6831:6831/udp -p 16686:16686 jaegertracing/all-in-one:latest"})]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:['start locally two bee nodes (different data dirs and ports) and connect them (see "Start a test network" in the ',(0,t.jsx)(n.a,{href:"/docs/develop/bee-developers/starting-a-test-network",children:"advanced section"}),") with ",(0,t.jsx)(n.code,{children:"--tracing"})," flag provided for both nodes"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Make a call to the PingPong API on one of the two nodes (",(0,t.jsx)(n.code,{children:"curl -XPOST localhost:1735/pingpong/<overlay address other node>"}),")."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["Validate tracing in the web interface (",(0,t.jsx)(n.code,{children:"http://localhost:16686/"}),")."]})]})}function h(e={}){const{wrapper:n}={...(0,s.M)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(a,{...e})}):a(e)}},4552:(e,n,o)=>{o.d(n,{I:()=>l,M:()=>d});var t=o(11504);const s={},r=t.createContext(s);function d(e){const n=t.useContext(r);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:d(e.components),t.createElement(r.Provider,{value:n},e.children)}}}]);